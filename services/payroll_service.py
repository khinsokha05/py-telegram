import random
from datetime import datetime, timedelta
from zoneinfo import ZoneInfo

class PayrollService:
    @staticmethod
    def get_next_payday_info():
        # Use Cambodia Time (consistent with your get_cambodia_time)
        cambodia_tz = ZoneInfo('Asia/Phnom_Penh')
        now = datetime.now(cambodia_tz)
        today = now.day
        
        if today < 12:
            next_payday = now.replace(day=12)
        elif today < 26:
            next_payday = now.replace(day=26)
        else:
            # Move to 12th of next month
            # Logic: go to first of next month, then set day to 12
            if now.month == 12:
                next_payday = now.replace(year=now.year + 1, month=1, day=12)
            else:
                next_payday = now.replace(month=now.month + 1, day=12)

        days_left = (next_payday.date() - now.date()).days
        
        messages = [
    # --- Original Messages ---
    f"ážŸáž›áŸ‹ážáŸ‚ {days_left} ážáŸ’áž„áŸƒáž‘áŸ€áž áž‘áŸ…áž…áž¼áž›áž€áž˜áŸ’áž˜ážœáž·áž’áž¸áž‡áž¶áž˜áž½áž™áž€áŸ’ážšáž»áž˜áž€áž¶ážšáž„áž¶ážš ðŸ¥³",
    f"ážážŸáŸŠáž¼áž¡áž¾áž„! áž“áŸ…ážŸáž›áŸ‹ {days_left} ážáŸ’áž„áŸƒáž‘áŸ€ážáž‘áŸ áž“áž¹áž„ážŠáž›áŸ‹ážáŸ’áž„áŸƒáž”áž¾áž€áž›áž»áž™áž áž¾áž™ ðŸ’¸",
    f"áž‡áž·ážáž”áž¶áž“ážŠáž¾ážšáž›áŸáž„áž áž¾áž™! ážŸáž›áŸ‹ {days_left} ážáŸ’áž„áŸƒáž‘áŸ€ážážŠáž›áŸ‹ážáŸ’áž„áŸƒáž”áž»ážŽáŸ’áž™áž™áž¾áž„áž áž¾áž™ ðŸ»",
    f"ážáŸ’ážšáŸ€áž˜ážáŸ’áž›áž½áž“áž“áŸ…? áž‘áŸ€ážážáŸ‚ {days_left} ážáŸ’áž„áŸƒáž‘áŸ€áž áž“áž¹áž„áž€áŸ’áž›áž¶áž™áž‡áž¶ážŸáŸážŠáŸ’áž‹áž¸áž”áŸ’ážšáž…áž¶áŸ†ážáŸ‚áž áž¾áž™! ðŸ’Ž",
    f"áž€áž»áŸ†áž‘áž¶áž“áŸ‹áž¢áž¶áž›ážŠáž¶áž…áŸ‹áž”áž¶áž™! áž…áž¶áŸ†ážáŸ‚ {days_left} ážáŸ’áž„áŸƒáž‘áŸ€ážáž‘áŸ áž›áž»áž™áž“áž¹áž„áž…áž¼áž›áž˜áž€áž”áŸ„ážŸáž•áŸ’áž‘áŸ‡áž áž¾áž™ ðŸ ðŸ’°",
    f"áž‰áž‰áž¹áž˜áž±áŸ’áž™ážŸáŸ’ážšážŸáŸ‹áž¡áž¾áž„! {days_left} ážáŸ’áž„áŸƒáž‘áŸ€ážážŠáž›áŸ‹ážáŸ’áž„áŸƒ 'áž›áž¶áž áž¾áž™áž˜áž¸áž€áž‰áŸ’áž…áž”áŸ‹' áž áž¾áž™ ðŸœâŒ",
    f"áž ážáŸ‹áž“áž¿áž™áž”áŸ‰áž»ážŽáŸ’ážŽáž¶ áž€áŸáž”áž¶ážáŸ‹áž¢ážŸáŸ‹ážŠáŸ‚ážš áž”áž¾ážŠáž¹áž„ážáž¶ {days_left} ážáŸ’áž„áŸƒáž‘áŸ€ážáž›áž»áž™áž…áž¼áž›áž€áž»áž„áž“áŸ„áŸ‡ ðŸ¦âœ¨",
    f"ážšáž€áŸ’ážŸáž¶áž—áž¶áž–áž¢ážáŸ‹áž’áŸ’áž˜ážáŸ‹! {days_left} ážáŸ’áž„áŸƒáž‘áŸ€áž ážŸáž¶ážšáž–áž¸áž’áž“áž¶áž‚áž¶ážšáž“áž¹áž„áž›áŸ„ážáž˜áž€áž’áŸ’ážœáž¾áž±áŸ’áž™áž™áž¾áž„ážšáŸ†áž—áž¾áž” ðŸ“±ðŸ””",
    f"áž‡áž·ážážŠáž›áŸ‹ážáŸ’áž„áŸƒážŸáŸ„áž™ážŸáž»ážáž áž¾áž™! áž“áŸ…ážŸáž›áŸ‹ {days_left} ážáŸ’áž„áŸƒáž‘áŸ€ážáž‘áŸ áž–áž½áž€áž™áž¾áž„áž“áž¹áž„áž˜áž¶áž“ážŸáŸážšáž¸áž—áž¶áž–áž áž·ážšáž‰áŸ’áž‰ážœážáŸ’ážáž» ðŸ‘‘",
    f"áž€áž»áŸ†áž˜áž¾áž›áž„áž¶áž™ {days_left} ážáŸ’áž„áŸƒáž“áŸáŸ‡áž¢áž¸! ážœáž¶áž‡áž¶áž€áž¶ážšážŸáž¶áž€áž›áŸ’áž”áž„áž…áž·ážáŸ’ážáž˜áž»áž“áž“áž¹áž„áž€áŸ’áž›áž¶áž™áž‡áž¶áž¢áŸ’áž“áž€áž˜áž¶áž“ ðŸ§˜ðŸ’µ",
    f"ážŠáž¶áž€áŸ‹áž‚áŸ„áž›ážŠáŸ…áž‘áž»áž€áž‘áŸ…! {days_left} ážáŸ’áž„áŸƒáž‘áŸ€ážážŠáž›áŸ‹ážáŸ’áž„áŸƒážŠáž¾ážšáž…áž¶áž™áž›áž»áž™áž±áŸ’áž™ážšáž¶áž”ážŠáž›áŸ‹ážŠáž¸áž áž¾áž™ ðŸ›ï¸ðŸ”¥",
    f"áž¢ážáŸ‹áž’áŸ’áž˜ážáŸ‹áž”áž“áŸ’ážáž·áž…áž‘áŸ€ážáž‘áŸ… ážŸáž˜áŸ’áž›áž¶áž‰áŸ‹! {days_left} ážáŸ’áž„áŸƒáž‘áŸ€áž áž‚ážºážŠáž›áŸ‹ážáŸ’áž„áŸƒáž‡áž½áž”áž‡áž»áŸ†áž”áž„áž”áŸ’áž¢áž¼áž“áž•áž¹áž€ážŸáŸŠáž¸áž áž¾áž™ ðŸ¥‚ðŸ‡°ðŸ‡­",
    f"áž‚áŸ’ážšáž¶áž“áŸ‹ážáŸ‚ážƒáž¾áž‰áž›áŸáž {days_left} áž“áŸáŸ‡ áž€áŸáž˜áž¶áž“áž€áž˜áŸ’áž›áž¶áŸ†áž„áž’áŸ’ážœáž¾áž€áž¶ážšáž”áž“áŸ’ážážŠáŸ‚ážšáž˜áŸ‚áž“áž‘áŸ? ážáŸ„áŸ‡áž”áŸ’ážšáž™áž»áž‘áŸ’áž’áž‘áŸ€áž! ðŸ’ªðŸ’¸"
    f"áž€áž€áŸ‹áž€áž“áŸ’áž›áŸ‚áž„áž‘áž»áž€áž±áŸ’áž™áž áž¾áž™áž‘áŸ…áž”áž„! áž“áŸ…ážŸáž›áŸ‹ {days_left} ážáŸ’áž„áŸƒáž‘áŸ€áž áž›áž»áž™áž…áž¼áž›áž‡áž”áŸ’áž›áŸ€áž„áž áž¾áž™ ðŸ»ðŸ”¥",
    f"ážáŸ’ážšáŸ€áž˜áž±áŸ’áž™áž áž¾áž™áž‘áŸ…! {days_left} ážáŸ’áž„áŸƒáž‘áŸ€ážážŠáž¹áž„ážáŸ‚áž áž»áž™áž•áŸ’ážŸáŸ‚áž„áž áž¾áž™ ážáŸ’áž‡áž·áž›áž“áž·áž™áž¶áž™áž…áŸ’ážšáž¾áž“ ðŸ¥©ðŸ’¨",
    f"áž“áŸ…ážŸáž›áŸ‹ {days_left} ážáŸ’áž„áŸƒáž‘áŸ€áž! áž€áž»áŸ†áž—áŸ’áž›áŸáž…áž€áž€áŸ‹áž€áž“áŸ’áž›áŸ‚áž„áž‘áž»áž€áž±áŸ’áž™áž”áŸ’áž¢áž¼áž“áž•áž„ áž›áž»áž™áž‡áž·ážáž’áŸ’áž›áž¶áž€áŸ‹ážŠáž›áŸ‹ážŠáŸƒáž áž¾áž™ ážáŸ’áž‘áž„áŸ‹áž áŸ’áž“áž¹áž„áž áŸ’áž˜áž„! ðŸ’µâœ¨",
    f"áž…áž¶áŸ†áž¢áž¸áž‘áŸ€ážáž”áž„? {days_left} ážáŸ’áž„áŸƒáž‘áŸ€áž áž›áž»áž™áž…áž¼áž›áž€áž»áž„áž–áŸ’ážšáž¹áž” áž€áž€áŸ‹ážáž»áž±áŸ’áž™áž áž¾áž™áž‘áŸ… áž€áž»áŸ†áž±áŸ’áž™áž‚áŸáž†áž€áŸ‹áž€áž“áŸ’áž›áŸ‚áž„ ðŸƒâ€â™‚ï¸ðŸ¥‚",
    f"áž€áž€áŸ‹áž€áž“áŸ’áž›áŸ‚áž„áž˜áŸ’áž“áž¶áž€áŸ‹áž˜áž½áž™áž‘áŸ…! {days_left} ážáŸ’áž„áŸƒáž‘áŸ€áž ážŠáž¹áž„ážáŸ‚ážŸáž˜áŸ’áž”áž¼ážšáž”áž„áž”áŸ’áž¢áž¼áž“áž˜áž€ážŸáž½ážšážŸáž»ážáž‘áž»áž€áŸ’ážáž áž¾áž™ áž–áŸ’ážšáŸ„áŸ‡áž›áž»áž™áž…áž¼áž›áž‡áž”áŸ’áž›áŸ€áž„ ðŸ§§ðŸ˜†",
    f"áž˜áŸ„áŸ‡áŸ—! áž“áŸ…ážŸáž›áŸ‹ {days_left} ážáŸ’áž„áŸƒáž‘áŸ€ážáŸ” ážáŸ’ážšáŸ€áž˜áž›áŸážáž€áž€áŸ‹áž€áž“áŸ’áž›áŸ‚áž„áž±áŸ’áž™áž áž¾áž™ áž›áž»áž™áž’áŸ’áž›áž¶áž€áŸ‹áž˜áž€áž‚áŸ’ážšáž¹áž” áž…áŸáž‰áž‘áŸ…áž‚áŸ’ážšáž¹áž”ážŠáŸ‚ážš! ðŸ’¸ðŸ’¨",
    f"áž€áž»áŸ†áž±áŸ’áž™ážáž€ážáž¶áž“! {days_left} ážáŸ’áž„áŸƒáž‘áŸ€áž áž›áž»áž™áž…áž¼áž›áž˜áž€áž”áž”áŸ„ážŸáž¢áž„áŸ’áž¢áŸ‚áž›áž”áŸáŸ‡ážŠáž¼áž„áž™áž¾áž„áž áž¾áž™ áž€áž€áŸ‹áž€áž“áŸ’áž›áŸ‚áž„áž•áž¹áž€ážŸáŸŠáž¸áž‘áž»áž€áž˜áž»áž“áž‘áŸ… ðŸ»ðŸŽ‰",
    f"ážáŸ„áŸ‡áž”áž„áŸ—! {days_left} ážáŸ’áž„áŸƒáž‘áŸ€áž áž›áž»áž™áž…áž¼áž›áž‡áž”áŸ’áž›áŸ€áž„áž áž¾áž™ áž€áž€áŸ‹áž€áž“áŸ’áž›áŸ‚áž„áž±áŸ’áž™áž áž¾áž™áž…áž¶áŸ†áž‡áž½áž”áž‚áŸ’áž“áž¶áž˜áŸ’ážŠáž„! ðŸ¤ðŸ¥‚",
    f"áž“áŸ…ážŸáž›áŸ‹ {days_left} ážáŸ’áž„áŸƒáž‘áŸ€ážáž‘áŸ! ážáŸ’ážšáŸ€áž˜ážáŸ’áž›áž½áž“áž±áŸ’áž™áž áž¾áž™ áž–áŸ’ážšáŸ„áŸ‡áž›áž»áž™áž‡áž·ážáž áž¼ážšáž…áž¼áž›áž˜áž€ážŠáž¼áž…áž‘áž¹áž€áž”áž¶áž€áŸ‹áž‘áŸ†áž“áž”áŸ‹áž áž¾áž™ ðŸŒŠðŸ’¸"
]
        
        return {
            "days_left": days_left,
            "date_str": next_payday.strftime('%d-%m-%Y'),
            "message": random.choice(messages)
        }